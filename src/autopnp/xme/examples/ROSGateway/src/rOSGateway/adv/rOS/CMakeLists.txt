#
# Copyright (c) 2011-2014, fortiss GmbH.
# Licensed under the Apache License, Version 2.0.
# 
# Use, modification and distribution are subject to the terms specified
# in the accompanying license file LICENSE.txt located at the root directory
# of this software distribution. A copy is available at
# http://chromosome.fortiss.org/.
#
# This file is part of CHROMOSOME.
#
# $Id$
#         This file has been generated by the CHROMOSOME Modeling Tool (XMT)
#         (fortiss GmbH).

# PROTECTED REGION ID(ROSGATEWAY_ADV_ROS_CMAKELISTS_TXT_BEGIN) ENABLED START
SET(ENV{ROS_PACKAGE_PATH} ${CMAKE_SOURCE_DIR}:${CMAKE_SOURCE_DIR}/../ros_system:$ENV{ROS_PACKAGE_PATH})

function (rOSGateway_adv_rOS_before_use_callback)
    find_package(catkin REQUIRED COMPONENTS
        roscpp
        rostime
        std_msgs
    )

    include_directories(
        include
        ${catkin_INCLUDE_DIRS}
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../build/ros_system/devel/include #TODO
	)

    set(catkin_EXPORTED_TARGETS ${catkin_EXPORTED_TARGETS} CACHE STRING "" FORCE)
    set(catkin_LIBRARIES ${catkin_LIBRARIES} CACHE STRING "" FORCE)

    catkin_package(
        CATKIN_DEPENDS roscpp rostime std_msgs
    )
endfunction (rOSGateway_adv_rOS_before_use_callback)
# PROTECTED REGION END

xme_add_component (
    "rOSGateway_adv_rOS"
    HEADERS
        "include/rOSComponentWrapper.h"
        "include/rOSComponent.h"
        "include/executeROSFunctionWrapper.h"
        "include/executeROSFunction.h"
        "include/rOSManifest.h"
    SOURCES
        "src/rOSComponentWrapper.c"
        "src/rOSComponent.cpp"
        "src/executeROSFunctionWrapper.cpp"
        "src/executeROSFunction.cpp"
        "src/rOSManifest.cpp"
    DEPENDS
        xme_core_directory_attribute
        xme_hal_ros
        xme_hal_sched
        xme_hal_time
    # PROTECTED REGION ID(ROSGATEWAY_ADV_ROS_CMAKELISTS_TXT_XMEADDCOMPONENT) ENABLED START
    TARGETS
        VALUE_OF catkin_EXPORTED_TARGETS
    LINK
        VALUE_OF catkin_LIBRARIES
    CALLBACK
        BEFORE_USE rOSGateway_adv_rOS_before_use_callback
    # PROTECTED REGION END
)

# PROTECTED REGION ID(ROSGATEWAY_ADV_ROS_CMAKELISTS_TXT_END) ENABLED START
# PROTECTED REGION END
